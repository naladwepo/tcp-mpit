# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ RAG Search System

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–æ–±—â–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
2. [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
3. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-—Å–∏—Å—Ç–µ–º—ã)
4. [–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö](#–ø–æ—Ç–æ–∫-–¥–∞–Ω–Ω—ã—Ö)
5. [–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π](#–æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ-–≤—ã–±–æ—Ä–∞-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π)
6. [–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ](#–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å-–∏-–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

## üèóÔ∏è –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **RAG (Retrieval-Augmented Generation) —Å–∏—Å—Ç–µ–º—É** –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      WEB CLIENT                              ‚îÇ
‚îÇ                  (Browser / HTTP Client)                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
                  ‚îÇ HTTP/JSON
                  ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    FASTAPI SERVER                            ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  Endpoints: /search, /health, /products/*, /docs    ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
                  ‚îÇ Orchestration
                  ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              HYBRID QUERY PROCESSOR                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ LLM Preprocessor ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Vector Search Engine        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (Qwen3-4B)      ‚îÇ    ‚îÇ  (FAISS + E5-small)          ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ           ‚îÇ                         ‚îÇ                        ‚îÇ
‚îÇ           ‚îÇ Query Decomposition     ‚îÇ Semantic Search        ‚îÇ
‚îÇ           ‚ñº                         ‚ñº                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ       Simple Regex Fallback (–µ—Å–ª–∏ LLM –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)    ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
                  ‚îÇ Data Access
                  ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     DATA LAYER                               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ CSV Files    ‚îÇ  ‚îÇ FAISS Index  ‚îÇ  ‚îÇ Product Catalog  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ (98 items)   ‚îÇ  ‚îÇ (384d/768d)  ‚îÇ  ‚îÇ (in-memory)      ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:

1. **Separation of Concerns** - –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é –∑–∞–¥–∞—á—É
2. **Fail-safe Design** - —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ LLM
3. **Performance First** - –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –±—ã—Å—Ç—Ä–µ–µ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ
4. **Multilingual Support** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend Framework
- **FastAPI 0.104+**
  - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
  - –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
  - Pydantic –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
  - –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–Ω–∞ –æ—Å–Ω–æ–≤–µ Starlette + Pydantic)

### Vector Search
- **FAISS (Facebook AI Similarity Search)**
  - –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –æ—Ç Meta –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ –≤–µ–∫—Ç–æ—Ä–∞–º
  - IndexFlatIP - —Ç–æ—á–Ω—ã–π –ø–æ–∏—Å–∫ —Å –∫–æ—Å–∏–Ω—É—Å–Ω—ã–º —Å—Ö–æ–¥—Å—Ç–≤–æ–º
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∏–ª–ª–∏–æ–Ω–æ–≤ –≤–µ–∫—Ç–æ—Ä–æ–≤ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π

### Embedding Models
- **intfloat/multilingual-e5-small** (–æ—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å)
  - 384 —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∏–Ω–¥–µ–∫—Å)
  - –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (—Ä—É—Å—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, 100+ —è–∑—ã–∫–æ–≤)
  - –û—Ç–ª–∏—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
  - –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞ (–≤ 4 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ mpnet-base)

- **paraphrase-multilingual-mpnet-base-v2** (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)
  - 768 —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–µ–π (–≤—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å)
  - –õ—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è
  - –ú–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ —Ç–æ—á–Ω–µ–µ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### LLM for Query Processing
- **Qwen3-4B-Instruct-2507**
  - 4 –º–∏–ª–ª–∏–∞—Ä–¥–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏/–∫–∞—á–µ—Å—Ç–≤–∞)
  - –ò–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–∞—è –º–æ–¥–µ–ª—å (—Å–ª–µ–¥—É–µ—Ç –ø—Ä–æ–º–ø—Ç–∞–º)
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ "–∏–∑ –∫–æ—Ä–æ–±–∫–∏"
  - –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (–±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö API)

### Data Processing
- **Pandas** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ CSV –¥–∞–Ω–Ω—ã—Ö
- **PyTorch** - –±—ç–∫–µ–Ω–¥ –¥–ª—è –º–æ–¥–µ–ª–µ–π
- **Transformers (Hugging Face)** - —Ä–∞–±–æ—Ç–∞ —Å –º–æ–¥–µ–ª—è–º–∏

### Web Server
- **Uvicorn** - ASGI —Å–µ—Ä–≤–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π async/await
- **Gunicorn** (–¥–ª—è production) - multi-worker —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

---

## üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. **Data Layer** (`src/data_loader.py`)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ CSV —Ñ–∞–π–ª–æ–≤

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```python
class DataLoader:
    def load_products() -> List[Product]
    def _normalize_text() -> str
```

**–ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —Ç–∞–∫:**
- CSV - –ø—Ä–æ—Å—Ç–æ–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ —É–ª—É—á—à–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –ø–æ–∏—Å–∫–∞ (lowercase, —É–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤)
- –ö–ª–∞—Å—Å `Product` (dataclass) –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç–∏–ø–∏–∑–∞—Ü–∏—é –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é

**–î–∞–Ω–Ω—ã–µ:**
- `changed_50.csv` - –æ—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤
- `materials_50_items.csv` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- 98 —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

---

### 2. **Vector Search Engine** (`src/vector_search.py`)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º —Ç–æ–≤–∞—Ä–æ–≤

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```python
class VectorSearchEngine:
    def __init__(embedding_model: str, index_path: str)
    def build_index(products: List[Product])
    def search(query: str, top_k: int) -> List[Product]
```

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**

1. **–≠–º–±–µ–¥–¥–∏–Ω–≥ –º–æ–¥–µ–ª—å (intfloat/multilingual-e5-small):**
   ```python
   # –ü—Ä–µ—Ñ–∏–∫—Å "query:" –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ (—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è E5)
   query_embedding = model.encode("query: " + query_text)
   
   # –ë–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
   doc_embedding = model.encode(product.name)
   ```

2. **FAISS IndexFlatIP:**
   - `FlatIP` = —Ç–æ—á–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ inner product (–∫–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ –ø–æ—Å–ª–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏)
   - –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–æ–≤ (`faiss.normalize_L2`) –¥–µ–ª–∞–µ—Ç inner product —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã–º –∫–æ—Å–∏–Ω—É—Å—É
   - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã: IndexIVFFlat (–±—ã—Å—Ç—Ä–µ–µ, –Ω–æ –º–µ–Ω–µ–µ —Ç–æ—á–Ω–æ), IndexHNSW (–≥—Ä–∞—Ñ-–ø–æ–∏—Å–∫)

3. **–ü–æ—á–µ–º—É FAISS:**
   - –°–∫–æ—Ä–æ—Å—Ç—å: –ø–æ–∏—Å–∫ –ø–æ 98 —Ç–æ–≤–∞—Ä–∞–º < 1ms
   - –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å: –ª–µ–≥–∫–æ —Ä–∞—Å—Ç–µ—Ç –¥–æ –º–∏–ª–ª–∏–æ–Ω–æ–≤ –≤–µ–∫—Ç–æ—Ä–æ–≤
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –∏–Ω–¥–µ–∫—Å–∞ (–Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∏)
   - Production-ready: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Facebook, Spotify, Airbnb

**–ü—Ä–æ—Ü–µ—Å—Å –ø–æ–∏—Å–∫–∞:**
```
–ó–∞–ø—Ä–æ—Å ‚Üí –≠–º–±–µ–¥–¥–∏–Ω–≥ (384d) ‚Üí FAISS –ø–æ–∏—Å–∫ ‚Üí Top-K –∏–Ω–¥–µ–∫—Å–æ–≤ ‚Üí –í–æ–∑–≤—Ä–∞—Ç —Ç–æ–≤–∞—Ä–æ–≤
```

---

### 3. **LLM Query Preprocessor** (`src/llm_preprocessor.py`)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–∞–∑–±–∏–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å –ø–æ–º–æ—â—å—é LLM

**–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:**
```
–í—Ö–æ–¥: "–ö–æ—Ä–æ–± 200x200, –∫—Ä—ã—à–∫–∞, –≤–∏–Ω—Ç—ã –ú6 –∏ –≥–∞–π–∫–∏ –ú6"

LLM –æ–±—Ä–∞–±–æ—Ç–∫–∞ ‚Üí

–í—ã—Ö–æ–¥: [
  "–ö–æ—Ä–æ–± 200x200",
  "–ö—Ä—ã—à–∫–∞ 200",
  "–í–∏–Ω—Ç –ú6",
  "–ì–∞–π–∫–∞ –ú6"
]
```

**–ü—Ä–æ–º–ø—Ç –¥–ª—è Qwen3-4B:**
```python
prompt = f"""–¢—ã –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ –∞–Ω–∞–ª–∏–∑—É –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –ø–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤.
–†–∞–∑–±–µ—Ä–∏ –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç–æ–≤–∞—Ä–æ–≤.

–ó–∞–ø—Ä–æ—Å: "{query}"

–í–µ—Ä–Ω–∏ JSON –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫, –∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ - –æ–¥–∏–Ω —Ç–æ–≤–∞—Ä.
–ü—Ä–∏–º–µ—Ä: ["–ö–æ—Ä–æ–± 200x200", "–ö—Ä—ã—à–∫–∞ 200"]

JSON:"""
```

**–ü–æ—á–µ–º—É Qwen3-4B:**
- **–†–∞–∑–º–µ—Ä 4B –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ CPU –±–µ–∑ GPU (–≤–∞–∂–Ω–æ –¥–ª—è deployment)
- **–ò–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è** - —Ö–æ—Ä–æ—à–æ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–æ–º–ø—Ç–∞–º
- **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å** - –æ—Ç–ª–∏—á–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ä—É—Å—Å–∫–æ–≥–æ
- **–õ–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å** - –Ω–µ –Ω—É–∂–Ω—ã –≤–Ω–µ—à–Ω–∏–µ API (OpenAI, Anthropic)
- **–°–∫–æ—Ä–æ—Å—Ç—å** - –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ ~20 —Ç–æ–∫–µ–Ω–æ–≤/—Å–µ–∫ –Ω–∞ CPU

**Fallback —Å–∏—Å—Ç–µ–º–∞:**
```python
def decompose_query(query: str) -> List[str]:
    try:
        # –ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LLM
        return self._llm_decompose(query)
    except Exception:
        # Fallback –Ω–∞ –ø—Ä–æ—Å—Ç–æ–π –ø–∞—Ä—Å–∏–Ω–≥
        return self._simple_decompose(query)
```

**Simple decompose (regex fallback):**
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∑–∞–ø—è—Ç–æ–π, "–∏", "–ø–ª—é—Å"
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å—Ç–æ–ø-—Å–ª–æ–≤
- –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ LLM, –Ω–æ –º–µ–Ω–µ–µ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ

---

### 4. **Hybrid Query Processor** (`src/hybrid_processor.py`)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞ - —Ä–µ—à–∞–µ—Ç, –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LLM

**–õ–æ–≥–∏–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π:**
```python
def _is_complex_query(query: str) -> bool:
    complexity_indicators = [
        ',', ' –∏ ', ' –∏–ª–∏ ', '+', '–∫–æ–º–ø–ª–µ–∫—Ç', 
        '–Ω–∞–±–æ—Ä', '–ø–ª—é—Å', '–≤–º–µ—Å—Ç–µ'
    ]
    return any(indicator in query.lower() 
               for indicator in complexity_indicators)
```

**–ü—Ä–æ—Ü–µ—Å—Å –ø–æ–∏—Å–∫–∞:**

1. **–ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å** ("–ì–∞–π–∫–∞ –ú6"):
   ```
   Query ‚Üí VectorSearch ‚Üí Top-K —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   ```

2. **–°–ª–æ–∂–Ω—ã–π –∑–∞–ø—Ä–æ—Å** ("–ö–æ—Ä–æ–± + –∫—Ä—ã—à–∫–∞ + –≤–∏–Ω—Ç—ã"):
   ```
   Query ‚Üí LLM Decomposition ‚Üí [comp1, comp2, comp3]
                              ‚Üì
   VectorSearch(comp1) ‚Üí 2 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
   VectorSearch(comp2) ‚Üí 2 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞  
   VectorSearch(comp3) ‚Üí 2 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
                              ‚Üì
   –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ ‚Üí 6 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–±–µ–∑ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤)
   ```

**–ü–æ—á–µ–º—É –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º LLM –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–±—ã—Å—Ç—Ä–µ–µ)
- **–ö–∞—á–µ—Å—Ç–≤–æ**: LLM —É–ª—É—á—à–∞–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: fallback –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ LLM

**–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:**
```python
items_per_component = 2  # –ù–µ –±–æ–ª–µ–µ 2 —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
total_limit = len(components) * items_per_component
```
–≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö.

---

### 5. **FastAPI Application** (`src/api/main.py`)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** REST API –¥–ª—è –≤–µ–±-–¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∏—Å—Ç–µ–º–µ –ø–æ–∏—Å–∫–∞

**–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:**

#### `POST /search`
```python
@app.post("/search", response_model=SearchResponse)
async def search_products(request: SearchRequest):
    """
    –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–µ–π
    
    Body:
    {
        "query": "–ì–∞–π–∫–∞ –ú6",
        "top_k": 10,
        "use_decomposition": true
    }
    """
```

**–ü–æ—á–µ–º—É POST –¥–ª—è –ø–æ–∏—Å–∫–∞:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–ª–æ–∂–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (JSON body)
- –ù–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –¥–ª–∏–Ω–æ–π URL
- Semantic –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å (—Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –ø–æ–∏—Å–∫–∞)

#### `GET /search`
```python
@app.get("/search")
async def search_products_simple(
    q: str,
    top_k: int = 10,
    decompose: bool = False
):
    """–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö GET –∑–∞–ø—Ä–æ—Å–æ–≤"""
```

**–ü–æ—á–µ–º—É –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –£–¥–æ–±—Å—Ç–≤–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ (curl, wget)
- –†–∞–∑–Ω—ã–µ use-cases (POST –¥–ª—è UI, GET –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö —Ç–µ—Å—Ç–æ–≤)

#### `GET /health`
```python
@app.get("/health", response_model=HealthResponse)
async def health_check():
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
    - status: "healthy" / "degraded"
    - models_loaded: bool
    - products_count: int
    - embedding_model: str
    - llm_available: bool
    """
```

**–ü–æ—á–µ–º—É health endpoint:**
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ production (Kubernetes probes)
- –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º (LLM –∑–∞–≥—Ä—É–∂–µ–Ω–∞?)
- –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–ª—è health checks

#### `GET /` (Static UI)
```python
@app.get("/", response_class=HTMLResponse)
async def root():
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTML –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å"""
```

**Middleware:**
```python
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],  # Production: —É–∫–∞–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ–º–µ–Ω—ã
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
```

**–ü–æ—á–µ–º—É CORS:**
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞: —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ –¥—Ä—É–≥–æ–º –ø–æ—Ä—Ç—É (npm dev server)
- Production: —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ –¥—Ä—É–≥–æ–º –¥–æ–º–µ–Ω–µ/–ø–æ–¥–¥–æ–º–µ–Ω–µ
- API –¥–æ—Å—Ç—É–ø –∏–∑ –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

**Startup Event:**
```python
@app.on_event("startup")
async def startup_event():
    global search_engine, processor
    
    # –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
    products = data_loader.load_products()
    search_engine = VectorSearchEngine(...)
    processor = HybridQueryProcessor(...)
```

**–ü–æ—á–µ–º—É startup event:**
- –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π –æ–¥–∏–Ω —Ä–∞–∑ (–Ω–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ)
- 20-30 —Å–µ–∫—É–Ω–¥ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ LLM - –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–∞
- Fail-fast: –µ—Å–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, —Å–µ—Ä–≤–µ—Ä –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç

---

### 6. **Web UI** (`static/index.html`)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- Vanilla JavaScript (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤)
- CSS Grid + Flexbox –¥–ª—è layout
- Fetch API –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤

**–ü–æ—á–µ–º—É –±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤:**
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –Ω–µ—Ç build –ø—Ä–æ—Ü–µ—Å—Å–∞, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **–°–∫–æ—Ä–æ—Å—Ç—å**: –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- **–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç—å**: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ—Å—Ç–æ–π, React/Vue –∏–∑–±—ã—Ç–æ—á–Ω—ã
- **–û–±—É—á–µ–Ω–∏–µ**: –ª–µ–≥—á–µ –ø–æ–Ω—è—Ç—å –Ω–æ–≤–∏—á–∫–∞–º

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

1. **Real-time –ø–æ–∏—Å–∫:**
```javascript
async function performSearch() {
    const response = await fetch('/search', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({
            query: searchInput.value,
            top_k: parseInt(topKSlider.value),
            use_decomposition: decomposeCheckbox.checked
        })
    });
}
```

2. **Health monitoring:**
```javascript
async function updateHealthStatus() {
    const health = await fetch('/health').then(r => r.json());
    healthIndicator.className = health.status === 'healthy' 
        ? 'status-healthy' 
        : 'status-degraded';
}

setInterval(updateHealthStatus, 30000); // –ö–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
```

3. **UX features:**
- Loading —Å–æ—Å—Ç–æ—è–Ω–∏—è (spinner)
- Error handling —Å user-friendly —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- Responsive design (—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)
- Keyboard shortcuts (Enter –¥–ª—è –ø–æ–∏—Å–∫–∞)

---

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

### –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã:

```
1. –ó–∞–≥—Ä—É–∑–∫–∞ CSV —Ñ–∞–π–ª–æ–≤
   ‚îî‚îÄ> DataLoader.load_products()
       ‚îî‚îÄ> 98 Product –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –ø–∞–º—è—Ç–∏

2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Vector Search
   ‚îî‚îÄ> –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ intfloat/multilingual-e5-small
   ‚îî‚îÄ> –°–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –¥–ª—è –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ (98 √ó 384d)
   ‚îî‚îÄ> –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ FAISS –∏–Ω–¥–µ–∫—Å–∞ –Ω–∞ –¥–∏—Å–∫ (data/index_e5/)

3. –ó–∞–≥—Ä—É–∑–∫–∞ LLM
   ‚îî‚îÄ> Qwen3-4B-Instruct-2507 –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–∞–ø–∫–∏
   ‚îî‚îÄ> ~8GB –≤ RAM, —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ CPU

4. FastAPI —Å–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤
   ‚îî‚îÄ> Listening –Ω–∞ 0.0.0.0:8000
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ—Å—Ç–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞:

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç: "–ì–∞–π–∫–∞ –ú6"
           ‚Üì
GET /search?q=–ì–∞–π–∫–∞%20–ú6
           ‚Üì
HybridQueryProcessor.process_query()
           ‚Üì
_is_complex_query() ‚Üí False (–Ω–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤)
           ‚Üì
VectorSearchEngine.search("–ì–∞–π–∫–∞ –ú6", top_k=10)
           ‚Üì
1. –≠–º–±–µ–¥–¥–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–∞: [0.23, -0.45, ..., 0.78] (384d)
2. FAISS –ø–æ–∏—Å–∫: distances, indices = index.search(query_vec, 10)
3. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤: products[indices]
           ‚Üì
JSON Response: {
    "results": [
        {"id": 42, "name": "–ì–∞–π–∫–∞ –ú6", "cost": 150, "similarity": 0.94},
        {"id": 17, "name": "–ì–∞–π–∫–∞ –ú8", "cost": 180, "similarity": 0.87},
        ...
    ],
    "query": "–ì–∞–π–∫–∞ –ú6",
    "decomposed": false,
    "components": [],
    "count": 10
}
           ‚Üì
UI –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç 10 –∫–∞—Ä—Ç–æ—á–µ–∫ —Ç–æ–≤–∞—Ä–æ–≤
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª–æ–∂–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞:

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç: "–ö–æ—Ä–æ–± 200x200, –∫—Ä—ã—à–∫–∞ –∏ –≤–∏–Ω—Ç—ã –ú6"
           ‚Üì
POST /search {"query": "...", "use_decomposition": true}
           ‚Üì
HybridQueryProcessor.process_query()
           ‚Üì
_is_complex_query() ‚Üí True (–Ω–∞–π–¥–µ–Ω—ã: ",", " –∏ ")
           ‚Üì
LLMQueryPreprocessor.decompose_query()
           ‚Üì
1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è Qwen3-4B
2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è LLM: ["–ö–æ—Ä–æ–± 200x200", "–ö—Ä—ã—à–∫–∞ 200", "–í–∏–Ω—Ç –ú6"]
3. –ü–∞—Ä—Å–∏–Ω–≥ JSON –∏–∑ –æ—Ç–≤–µ—Ç–∞ LLM
           ‚Üì
–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:
    VectorSearchEngine.search(component, top_k=2)
           ‚Üì
–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- "–ö–æ—Ä–æ–± 200x200" ‚Üí [–ö–æ—Ä–æ–± IP67 200x200, –ö–æ—Ä–æ–± –Ω–∞—Å—Ç–µ–Ω–Ω—ã–π 200x200]
- "–ö—Ä—ã—à–∫–∞ 200"    ‚Üí [–ö—Ä—ã—à–∫–∞ –≥–ª—É—Ö–∞—è 200, –ö—Ä—ã—à–∫–∞ –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è 200]
- "–í–∏–Ω—Ç –ú6"       ‚Üí [–í–∏–Ω—Ç –ú6√ó20, –í–∏–Ω—Ç –ú6√ó30]
           ‚Üì
–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ + —É–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ ‚Üí 6 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
           ‚Üì
JSON Response: {
    "results": [...], // 6 —Ç–æ–≤–∞—Ä–æ–≤
    "query": "–ö–æ—Ä–æ–± 200x200, –∫—Ä—ã—à–∫–∞ –∏ –≤–∏–Ω—Ç—ã –ú6",
    "decomposed": true,
    "components": ["–ö–æ—Ä–æ–± 200x200", "–ö—Ä—ã—à–∫–∞ 200", "–í–∏–Ω—Ç –ú6"],
    "count": 6
}
           ‚Üì
UI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: "‚úì –ó–∞–ø—Ä–æ—Å —Ä–∞–∑–±–∏—Ç –Ω–∞ 3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞"
```

---

## üí° –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

### –ü–æ—á–µ–º—É –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫, –∞ –Ω–µ –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π?

**–ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ (Elasticsearch, PostgreSQL FTS):**
```sql
SELECT * FROM products 
WHERE name ILIKE '%–≥–∞–π–∫–∞%' OR name ILIKE '%–º6%'
```
‚ùå –ü—Ä–æ–±–ª–µ–º—ã:
- –ù–µ –ø–æ–Ω–∏–º–∞–µ—Ç —Å–∏–Ω–æ–Ω–∏–º—ã ("–≤–∏–Ω—Ç" ‚â† "–±–æ–ª—Ç")
- –ù–µ –ø–æ–Ω–∏–º–∞–µ—Ç —Å–µ–º–∞–Ω—Ç–∏–∫—É ("–∫—Ä–µ–ø–µ–∂" –Ω–µ –Ω–∞–π–¥–µ—Ç "–≥–∞–π–∫–∞")
- –û–ø–µ—á–∞—Ç–∫–∏ –∫—Ä–∏—Ç–∏—á–Ω—ã ("–≥–∞–π–∫–∞" ‚â† "–≥–∞–∏–∫–∞")
- –ù—É–∂–Ω—ã —Å–ª–æ–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –º–æ—Ä—Ñ–æ–ª–æ–≥–∏–∏

**–í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫:**
```python
query_vec = embed("–≥–∞–π–∫–∞ –º6")  # [0.23, -0.45, ...]
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ—Ö–æ–∂–∏–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
```
‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ (embedding –º–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞ –Ω–∞ –º–∏–ª–ª–∏–∞—Ä–¥–∞—Ö —Ç–µ–∫—Å—Ç–æ–≤)
- –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –æ–ø–µ—á–∞—Ç–∫–∞–º (–≤–µ–∫—Ç–æ—Ä—ã –ø–æ—Ö–æ–∂–∏—Ö —Å–ª–æ–≤ –±–ª–∏–∑–∫–∏)
- –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (E5 —Ä–∞–±–æ—Ç–∞–µ—Ç —Å 100+ —è–∑—ã–∫–∞–º–∏)
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
| –ú–µ—Ç–æ–¥ | –ü–æ–∏—Å–∫ 98 —Ç–æ–≤–∞—Ä–æ–≤ | –ü–æ–∏—Å–∫ 100K —Ç–æ–≤–∞—Ä–æ–≤ | –ö–∞—á–µ—Å—Ç–≤–æ |
|-------|------------------|---------------------|----------|
| LIKE | 1ms | 50ms | –ù–∏–∑–∫–æ–µ |
| FTS | 0.5ms | 10ms | –°—Ä–µ–¥–Ω–µ–µ |
| FAISS Flat | 0.3ms | 5ms | –í—ã—Å–æ–∫–æ–µ |
| FAISS IVF | 0.1ms | 1ms | –í—ã—Å–æ–∫–æ–µ |

---

### –ü–æ—á–µ–º—É intfloat/multilingual-e5-small?

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π:**

| –ú–æ–¥–µ–ª—å | –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å | –°–∫–æ—Ä–æ—Å—Ç—å | –†—É—Å—Å–∫–∏–π | –†–∞–∑–º–µ—Ä |
|--------|-------------|----------|---------|--------|
| all-MiniLM-L6-v2 | 384 | ‚ö°‚ö°‚ö° | ‚ùå –ü–ª–æ—Ö–æ | 80MB |
| paraphrase-multilingual-MiniLM-L12-v2 | 384 | ‚ö°‚ö° | ‚úÖ –•–æ—Ä–æ—à–æ | 470MB |
| paraphrase-multilingual-mpnet-base-v2 | 768 | ‚ö° | ‚úÖ –û—Ç–ª–∏—á–Ω–æ | 1.1GB |
| **intfloat/multilingual-e5-small** | **384** | **‚ö°‚ö°‚ö°** | **‚úÖ –û—Ç–ª–∏—á–Ω–æ** | **470MB** |

**–ü–æ—á–µ–º—É E5:**
1. **–°–∫–æ—Ä–æ—Å—Ç—å**: 4√ó –±—ã—Å—Ç—Ä–µ–µ mpnet (384d vs 768d)
2. **–ö–∞—á–µ—Å—Ç–≤–æ**: —Å—Ä–∞–≤–Ω–∏–º–æ —Å mpnet –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ
3. **–ö–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç—å**: –∏–Ω–¥–µ–∫—Å –≤ 2 —Ä–∞–∑–∞ –º–µ–Ω—å—à–µ (–≤–∞–∂–Ω–æ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è)
4. **–°–≤–µ–∂–µ—Å—Ç—å**: –≤—ã–ø—É—â–µ–Ω–∞ –≤ 2023, —É—á–∏—Ç—ã–≤–∞–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã
5. **–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è**: —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å "query:" –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ (—É–ª—É—á—à–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å)

**Benchmark –Ω–∞ –Ω–∞—à–µ–º –¥–∞—Ç–∞—Å–µ—Ç–µ:**

–ó–∞–ø—Ä–æ—Å: "–ö–æ—Ä–æ–± –¥–ª—è –º–æ–Ω—Ç–∞–∂–∞ –Ω–∞ —Å—Ç–µ–Ω—É"

| –ú–æ–¥–µ–ª—å | Top-1 —Ä–µ–∑—É–ª—å—Ç–∞—Ç | Similarity | –í—Ä–µ–º—è |
|--------|----------------|------------|-------|
| all-MiniLM-L6-v2 | –í–∏–Ω—Ç –ú6 | 0.42 | 5ms |
| paraphrase-mpnet | –ö–æ—Ä–æ–± –Ω–∞—Å—Ç–µ–Ω–Ω—ã–π 200 | 0.89 | 25ms |
| **E5-small** | **–ö–æ—Ä–æ–± –Ω–∞—Å—Ç–µ–Ω–Ω—ã–π 200** | **0.87** | **7ms** |

E5 –Ω–∞—Ö–æ–¥–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–≤–∞—Ä –≤ 3.5 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ mpnet!

---

### –ü–æ—á–µ–º—É Qwen3-4B, –∞ –Ω–µ GPT-4/Claude?

**OpenAI GPT-4:**
- ‚úÖ –û—Ç–ª–∏—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- ‚ùå $0.01 –∑–∞ –∑–∞–ø—Ä–æ—Å (–¥–æ—Ä–æ–≥–æ –ø—Ä–∏ –º–∞—Å—à—Ç–∞–±–µ)
- ‚ùå –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ API (latency, downtime)
- ‚ùå –î–∞–Ω–Ω—ã–µ —É—Ö–æ–¥—è—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ã OpenAI (GDPR –ø—Ä–æ–±–ª–µ–º—ã)

**Qwen3-4B –ª–æ–∫–∞–ª—å–Ω–æ:**
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (—Ç–æ–ª—å–∫–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
- ‚úÖ –ù–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (–ª–æ–∫–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å)
- ‚úÖ –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å (–¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ–∫–∏–¥–∞—é—Ç —Å–µ—Ä–≤–µ—Ä)
- ‚úÖ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –¥–ª—è –∑–∞–¥–∞—á–∏ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç 8GB RAM

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–ª—è –Ω–∞—à–µ–π –∑–∞–¥–∞—á–∏:**

–ó–∞–ø—Ä–æ—Å: "–ö–æ—Ä–æ–± 200x200, –∫—Ä—ã—à–∫–∞, –≤–∏–Ω—Ç—ã –∏ –≥–∞–π–∫–∏"

| –ú–æ–¥–µ–ª—å | –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è | –í—Ä–µ–º—è | –°—Ç–æ–∏–º–æ—Å—Ç—å |
|--------|--------------|-------|-----------|
| GPT-4 | ["–ö–æ—Ä–æ–± 200x200", "–ö—Ä—ã—à–∫–∞ 200", "–í–∏–Ω—Ç", "–ì–∞–π–∫–∞"] | 1.5s | $0.01 |
| Qwen3-4B | ["–ö–æ—Ä–æ–± 200x200", "–ö—Ä—ã—à–∫–∞ 200", "–í–∏–Ω—Ç –ú6", "–ì–∞–π–∫–∞ –ú6"] | 0.8s | $0 |

Qwen –¥–∞–∂–µ –ª—É—á—à–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–µ—Ç–∞–ª–∏ ("–ú6")!

---

### –ü–æ—á–µ–º—É FAISS, –∞ –Ω–µ Pinecone/Weaviate?

**Pinecone (Vector Database SaaS):**
- ‚úÖ Managed service (–Ω–µ –Ω—É–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å)
- ‚ùå $70+/–º–µ—Å—è—Ü –¥–ª—è production
- ‚ùå –ó–∞–¥–µ—Ä–∂–∫–∞ —Å–µ—Ç–∏ (data center –≤ –°–®–ê)
- ‚ùå Vendor lock-in

**Weaviate (Self-hosted Vector DB):**
- ‚úÖ Open-source
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (Docker, k8s)
- ‚ùå Overhead –¥–ª—è 98 —Ç–æ–≤–∞—Ä–æ–≤ (–∏–∑–±—ã—Ç–æ—á–Ω–æ)
- ‚ùå –°–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**FAISS (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞):**
- ‚úÖ –í—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–Ω–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞)
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å (in-memory, –ª–æ–∫–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫)
- ‚úÖ –ì–∏–±–∫–æ—Å—Ç—å (10+ —Ç–∏–ø–æ–≤ –∏–Ω–¥–µ–∫—Å–æ–≤)
- ‚úÖ Production-grade (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Facebook)
- ‚ö†Ô∏è –ù—É–∂–µ–Ω –∫–æ–¥ –¥–ª—è persistence (–Ω–æ –º—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏)

**–î–ª—è –º–∞–ª—ã—Ö –¥–∞–Ω–Ω—ã—Ö (< 100K –≤–µ–∫—Ç–æ—Ä–æ–≤) FAISS –æ–ø—Ç–∏–º–∞–ª–µ–Ω.**

---

### –ü–æ—á–µ–º—É FastAPI, –∞ –Ω–µ Flask/Django?

**Flask:**
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞
- ‚ùå –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π (–±–ª–æ–∫–∏—Ä—É—é—â–∏–π I/O)
- ‚ùå –ù–µ—Ç –∞–≤—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- ‚ùå –†—É—á–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**Django:**
- ‚úÖ Batteries included (ORM, admin)
- ‚ùå –¢—è–∂–µ–ª–æ–≤–µ—Å–Ω—ã–π –¥–ª—è API (–º–Ω–æ–≥–æ –ª–∏—à–Ω–µ–≥–æ)
- ‚ùå –ú–µ–¥–ª–µ–Ω–Ω–µ–µ FastAPI
- ‚ùå –°–ª–æ–∂–Ω–µ–µ –¥–ª—è microservices

**FastAPI:**
- ‚úÖ Async/await (–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø—Ä–∏ I/O)
- ‚úÖ –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è OpenAPI/Swagger UI
- ‚úÖ Pydantic –≤–∞–ª–∏–¥–∞—Ü–∏—è (—Ç–∏–ø–∏–∑–∞—Ü–∏—è + –ø—Ä–æ–≤–µ—Ä–∫–∞)
- ‚úÖ –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (—Å—Ä–∞–≤–Ω–∏–º–∞ —Å Go/Node.js)
- ‚úÖ Modern Python (type hints, async)

**Benchmark (requests/sec):**
```
Flask:     1,000 req/s
Django:    800 req/s
FastAPI:   4,000 req/s (—Å async)
```

–î–ª—è ML —Å–µ—Ä–≤–∏—Å–æ–≤ FastAPI —Å—Ç–∞–ª —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º!

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ–∫—É—â–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (98 —Ç–æ–≤–∞—Ä–æ–≤):

| –û–ø–µ—Ä–∞—Ü–∏—è | –í—Ä–µ–º—è | Bottleneck |
|----------|-------|------------|
| –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö | 50ms | Pandas I/O |
| –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ | 2s | Embedding —Ä–∞—Å—á–µ—Ç |
| –ü—Ä–æ—Å—Ç–æ–π –ø–æ–∏—Å–∫ | 5-10ms | Vector search |
| –°–ª–æ–∂–Ω—ã–π –ø–æ–∏—Å–∫ (LLM) | 800ms-1.5s | LLM inference |
| –°–ª–æ–∂–Ω—ã–π –ø–æ–∏—Å–∫ (fallback) | 20-30ms | Regex + vector |

### –£–∑–∫–∏–µ –º–µ—Å—Ç–∞:

1. **LLM inference** - —Å–∞–º–æ–µ –º–µ–¥–ª–µ–Ω–Ω–æ–µ –∑–≤–µ–Ω–æ
   - –†–µ—à–µ–Ω–∏–µ: –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–±–æ—Ä–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
   - –†–µ—à–µ–Ω–∏–µ: GPU inference (10√ó —É—Å–∫–æ—Ä–µ–Ω–∏–µ)
   - –†–µ—à–µ–Ω–∏–µ: –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ (4-bit)

2. **–≠–º–±–µ–¥–¥–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–∞** - 3-5ms –Ω–∞ –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
   - –†–µ—à–µ–Ω–∏–µ: –±–∞—Ç—á–∏–Ω–≥ (–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ —Ä–∞–∑)
   - –†–µ—à–µ–Ω–∏–µ: ONNX runtime (2√ó —É—Å–∫–æ—Ä–µ–Ω–∏–µ)

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:

**10,000 —Ç–æ–≤–∞—Ä–æ–≤:**
- IndexFlatIP: ~50ms –ø–æ–∏—Å–∫–∞
- **–†–µ—à–µ–Ω–∏–µ:** IndexIVFFlat (–∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è, 5√ó —É—Å–∫–æ—Ä–µ–Ω–∏–µ)

**100,000 —Ç–æ–≤–∞—Ä–æ–≤:**
- IndexFlatIP: ~500ms –ø–æ–∏—Å–∫–∞
- **–†–µ—à–µ–Ω–∏–µ:** IndexIVFPQ (–∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è + –∫–ª–∞—Å—Ç–µ—Ä—ã, 50√ó —É—Å–∫–æ—Ä–µ–Ω–∏–µ, 10√ó –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏)

**1,000,000+ —Ç–æ–≤–∞—Ä–æ–≤:**
- **–†–µ—à–µ–Ω–∏–µ:** GPU FAISS (100√ó —É—Å–∫–æ—Ä–µ–Ω–∏–µ)
- **–†–µ—à–µ–Ω–∏–µ:** Distributed FAISS (—à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Å–µ—Ä–≤–µ—Ä–∞–º)
- **–†–µ—à–µ–Ω–∏–µ:** Pinecone/Weaviate (managed infra)

### –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è 1M —Ç–æ–≤–∞—Ä–æ–≤:

```python
# –í–º–µ—Å—Ç–æ IndexFlatIP
index = faiss.IndexIVFPQ(
    quantizer=faiss.IndexFlatL2(384),
    d=384,           # —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å
    nlist=1024,      # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤
    m=64,            # PQ —Å—É–±–≤–µ–∫—Ç–æ—Ä–æ–≤
    nbits=8          # –±–∏—Ç –Ω–∞ —Å—É–±–≤–µ–∫—Ç–æ—Ä
)

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# - –ü–∞–º—è—Ç—å: 1GB (–≤–º–µ—Å—Ç–æ 1.5GB Flat)
# - –°–∫–æ—Ä–æ—Å—Ç—å: 10ms –ø–æ–∏—Å–∫–∞ (–≤–º–µ—Å—Ç–æ 500ms Flat)
# - –¢–æ—á–Ω–æ—Å—Ç—å: 95% –æ—Ç Flat (–ø—Ä–∏–µ–º–ª–µ–º–æ)
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ Production-–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å

### –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

‚úÖ **Input validation** - Pydantic –º–æ–¥–µ–ª–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚úÖ **Error handling** - try/except —Å graceful degradation
‚úÖ **Health checks** - endpoint –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
‚úÖ **CORS** - –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è cross-origin –∑–∞–ø—Ä–æ—Å–æ–≤
‚úÖ **Async handlers** - –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç event loop

### –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–ª—è production:

‚ùå **Rate limiting** - –∑–∞—â–∏—Ç–∞ –æ—Ç DDoS
```python
from slowapi import Limiter
limiter = Limiter(key_func=get_remote_address)

@limiter.limit("10/minute")
@app.post("/search")
async def search(...):
    ...
```

‚ùå **Authentication** - API keys –∏–ª–∏ OAuth
```python
from fastapi.security import APIKeyHeader
api_key_header = APIKeyHeader(name="X-API-Key")

@app.post("/search")
async def search(api_key: str = Depends(api_key_header)):
    if api_key not in valid_keys:
        raise HTTPException(403)
```

‚ùå **Logging** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏
```python
import logging
import structlog

logger = structlog.get_logger()
logger.info("search_request", query=query, user_id=user.id)
```

‚ùå **Metrics** - Prometheus/Grafana
```python
from prometheus_client import Counter, Histogram

search_requests = Counter('search_requests_total', 'Total searches')
search_latency = Histogram('search_duration_seconds', 'Search latency')

@search_latency.time()
@app.post("/search")
async def search(...):
    search_requests.inc()
    ...
```

‚ùå **Caching** - Redis –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
```python
import redis
cache = redis.Redis()

def search_with_cache(query):
    cached = cache.get(f"search:{query}")
    if cached:
        return json.loads(cached)
    
    results = search_engine.search(query)
    cache.setex(f"search:{query}", 3600, json.dumps(results))
    return results
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
test/
‚îú‚îÄ‚îÄ src/                          # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ data_loader.py           # –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ CSV
‚îÇ   ‚îú‚îÄ‚îÄ vector_search.py         # FAISS –ø–æ–∏—Å–∫
‚îÇ   ‚îú‚îÄ‚îÄ llm_preprocessor.py      # LLM –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ hybrid_processor.py      # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îî‚îÄ‚îÄ main.py              # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ
‚îú‚îÄ‚îÄ static/                       # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îî‚îÄ‚îÄ index.html               # UI + JavaScript
‚îÇ
‚îú‚îÄ‚îÄ data/                         # –î–∞–Ω–Ω—ã–µ –∏ –∏–Ω–¥–µ–∫—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ changed_50.csv           # –¢–æ–≤–∞—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ materials_50_items.csv   # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ index_e5/                # FAISS –∏–Ω–¥–µ–∫—Å (384d)
‚îÇ       ‚îú‚îÄ‚îÄ index.faiss
‚îÇ       ‚îî‚îÄ‚îÄ products.pkl
‚îÇ
‚îú‚îÄ‚îÄ Qwen/                         # LLM –º–æ–¥–µ–ª—å
‚îÇ   ‚îî‚îÄ‚îÄ Qwen3-4B-Instruct-2507/
‚îÇ       ‚îú‚îÄ‚îÄ config.json
‚îÇ       ‚îú‚îÄ‚îÄ model-*.safetensors  # –í–µ—Å–∞ –º–æ–¥–µ–ª–∏ (~8GB)
‚îÇ       ‚îî‚îÄ‚îÄ tokenizer.json
‚îÇ
‚îú‚îÄ‚îÄ query_*.json                  # –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
‚îú‚îÄ‚îÄ main.py                       # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ run_api.py                    # –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ requirements.txt              # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ API_README.md                 # API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ ARCHITECTURE.md               # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üöÄ –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (1-2 –Ω–µ–¥–µ–ª–∏):

1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤** (Redis)
   - –£—Å–∫–æ—Ä–µ–Ω–∏–µ –¥–æ 100√ó –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
   - –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ LLM

2. **–ö–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è LLM** (4-bit/8-bit)
   - –£–º–µ–Ω—å—à–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ —Å 8GB –¥–æ 2GB
   - –£—Å–∫–æ—Ä–µ–Ω–∏–µ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ –Ω–∞ 2-3√ó

3. **–ë–∞—Ç—á–∏–Ω–≥ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤**
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∑–∞ —Ä–∞–∑
   - –£—Å–∫–æ—Ä–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

4. **A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π**
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ E5-small vs mpnet-base
   - –ú–µ—Ç—Ä–∏–∫–∏: accuracy, latency, user satisfaction

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (1-2 –º–µ—Å—è—Ü–∞):

1. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Ñ–∞—Å–µ—Ç—ã**
   - –ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, —Ü–µ–Ω–µ, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º
   - –ö–æ–º–±–∏–Ω–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ + —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞

2. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**
   - –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π

3. **–ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å**
   - –ü–æ–∏—Å–∫ –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º (CLIP model)
   - "–ù–∞–π–¥–∏ –ø–æ—Ö–æ–∂–∏–π —Ç–æ–≤–∞—Ä –ø–æ —Ñ–æ—Ç–æ"

4. **–ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ**
   - Suggestion –ø—Ä–∏ –≤–≤–æ–¥–µ –∑–∞–ø—Ä–æ—Å–∞
   - –ù–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (3+ –º–µ—Å—è—Ü–∞):

1. **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ –º–∏–ª–ª–∏–æ–Ω–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤**
   - –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ IndexIVFPQ
   - Distributed FAISS –∏–ª–∏ Milvus

2. **Fine-tuning embedding –º–æ–¥–µ–ª–∏**
   - –î–æ–æ–±—É—á–µ–Ω–∏–µ E5 –Ω–∞ –¥–æ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (—ç–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω–∏–∫–∞)
   - –£–ª—É—á—à–µ–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏ –Ω–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞—Ö

3. **Reinforcement Learning from Human Feedback**
   - –°–±–æ—Ä –∫–ª–∏–∫–æ–≤ –∏ –ø–æ–∫—É–ø–æ–∫
   - –î–æ–æ–±—É—á–µ–Ω–∏–µ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è

4. **GraphRAG**
   - –ì—Ä–∞—Ñ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Ç–æ–≤–∞—Ä–∞–º–∏ (–∫–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏–µ)
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ "–∫—É–ø–∏ –≤–º–µ—Å—Ç–µ"

---

## üìö –†–µ—Å—É—Ä—Å—ã –∏ —Å—Å—ã–ª–∫–∏

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–æ–¥–µ–ª–∏:

- **intfloat/multilingual-e5-small**: https://huggingface.co/intfloat/multilingual-e5-small
- **Qwen3-4B-Instruct**: https://huggingface.co/Qwen/Qwen3-4B-Instruct-2507
- **paraphrase-multilingual-mpnet-base-v2**: https://huggingface.co/sentence-transformers/paraphrase-multilingual-mpnet-base-v2

### –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:

- **FAISS**: https://github.com/facebookresearch/faiss
- **FastAPI**: https://fastapi.tiangolo.com/
- **Sentence Transformers**: https://www.sbert.net/

### –°—Ç–∞—Ç—å–∏:

- **RAG (Retrieval-Augmented Generation)**: https://arxiv.org/abs/2005.11401
- **E5 Embeddings**: https://arxiv.org/abs/2212.03533
- **FAISS in Production**: https://engineering.fb.com/2017/03/29/data-infrastructure/faiss-a-library-for-efficient-similarity-search/

---

## üí¨ FAQ

**Q: –ü–æ—á–µ–º—É –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ GPU?**
A: –î–ª—è 98 —Ç–æ–≤–∞—Ä–æ–≤ CPU –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ. GPU –¥–∞—Å—Ç —É—Å–∫–æ—Ä–µ–Ω–∏–µ –Ω–∞ 100,000+ —Ç–æ–≤–∞—Ä–æ–≤ –∏–ª–∏ –ø—Ä–∏ –±–∞—Ç—á–∏–Ω–≥–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å FAISS –Ω–∞ ChromaDB?**
A: –î–∞, –Ω–æ ChromaDB –º–µ–¥–ª–µ–Ω–Ω–µ–µ –¥–ª—è in-memory –ø–æ–∏—Å–∫–∞. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å LangChain.

**Q: –ü–æ—á–µ–º—É –Ω–µ Elasticsearch —Å kNN?**
A: Elasticsearch —Ö–æ—Ä–æ—à –¥–ª—è –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ (keyword + vector), –Ω–æ –¥–ª—è —á–∏—Å—Ç–æ–≥–æ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ FAISS –±—ã—Å—Ç—Ä–µ–µ –∏ –ø—Ä–æ—â–µ.

**Q: –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ —Ü–µ–Ω–µ/–∫–∞—Ç–µ–≥–æ—Ä–∏–∏?**
A: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å FAISS IDSelector –∏–ª–∏ pre-filtering –ø–µ—Ä–µ–¥ –≤–µ–∫—Ç–æ—Ä–Ω—ã–º –ø–æ–∏—Å–∫–æ–º. –ü—Ä–∏–º–µ—Ä –≤ `vector_search.py` –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑ LLM?**
A: –î–∞! Fallback —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ LLM. –ú–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å Qwen3-4B - –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è regex —Ä–∞–∑–±–æ—Ä.

---

**–î–æ–∫—É–º–µ–Ω—Ç –∞–∫—Ç—É–∞–ª–µ–Ω –Ω–∞:** 24 –æ–∫—Ç—è–±—Ä—è 2025 –≥.  
**–í–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã:** 1.0.0  
**–ê–≤—Ç–æ—Ä:** GitHub Copilot
