# üß™ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API

## –ß—Ç–æ —ç—Ç–æ?

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –ø–æ–∏—Å–∫–∞ –∫–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏—Ö —á–µ—Ä–µ–∑ 5 —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Ä–∞–∑–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)

```bash
pip install requests
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ API —Å–µ—Ä–≤–µ—Ä (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)

```bash
uvicorn src.api.main:app --reload
```

–î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è: `‚úÖ RAG API –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!`

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã

**–í–∞—Ä–∏–∞–Ω—Ç A (—Å–∫—Ä–∏–ø—Ç):**
```bash
./run_api_tests.sh
```

**–í–∞—Ä–∏–∞–Ω—Ç B (–Ω–∞–ø—Ä—è–º—É—é):**
```bash
python test_api_simple.py
```

## üìä –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è

| –§–∞–π–ª | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –ó–∞–ø—Ä–æ—Å |
|------|-----------|--------|
| `query_1_simple.json` | –ü—Ä–æ—Å—Ç–æ–π | "–ö—Ä—ã—à–∫–∞ 200 –º–º" |
| `query_2_simple.json` | –ü—Ä–æ—Å—Ç–æ–π | "–ì–∞–π–∫–∞ –ú6" |
| `query_4_medium.json` | –°—Ä–µ–¥–Ω–∏–π | "–ö–æ—Ä–æ–± 100x100 –º–º –ª—é–±–æ–π –¥–ª–∏–Ω—ã" |
| `query_5_medium.json` | –°—Ä–µ–¥–Ω–∏–π | "–ö—Ä—ã—à–∫–∞ —É–≥–ª–æ–≤–æ–≥–æ –ª–æ—Ç–∫–∞ 800–º–º" |
| `query_8_complex.json` | –°–ª–æ–∂–Ω—ã–π | "–ö–æ–º–ø–ª–µ–∫—Ç –¥–ª—è –º–æ–Ω—Ç–∞–∂–∞ –∫–æ—Ä–æ–±–∞ 200x200" |

## üìÅ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ñ–∞–π–ª `api_test_results.json` —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤.

## üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. [TEST_API_README.md](TEST_API_README.md) –¥–ª—è –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

## ‚ö° –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

- **`test_api_simple.py`** - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **`test_api_queries.py`** - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å —Ü–≤–µ—Ç–Ω—ã–º –≤—ã–≤–æ–¥–æ–º (—Ç—Ä–µ–±—É–µ—Ç `colorama`)
- **`run_api_tests.sh`** - bash —Å–∫—Ä–∏–ø—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

## üîß –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:**
```
‚úó –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ API
```
‚ûú –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: `uvicorn src.api.main:app --reload`

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞:**
```
ModuleNotFoundError: No module named 'requests'
```
‚ûú –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: `pip install requests`

## üí° –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: query_1_simple.json
ID –∑–∞–ø—Ä–æ—Å–∞: 1
–°–ª–æ–∂–Ω–æ—Å—Ç—å: simple
–ó–∞–ø—Ä–æ—Å: –ö—Ä—ã—à–∫–∞ 200 –º–º

‚úì –ü–æ–∏—Å–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω –∑–∞ 2.45 —Å–µ–∫

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞:
  –ù–∞–π–¥–µ–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤: 1
  –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: 45131.00 RUB

[1] –ö—Ä—ã—à–∫–∞
    –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: 1 —à—Ç.
    –ù–∞–π–¥–µ–Ω–æ: –ö—Ä—ã—à–∫–∞ 200 –º–º, L=2000 –º–º...
    –¶–µ–Ω–∞: 45131.00 —Ä—É–±.
    –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å: 0.9234
```
